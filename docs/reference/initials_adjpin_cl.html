<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Based on an extension of the algorithm in
Cheng and Lai (2021)
, generates sets of initial
parameters to be used in the maximum likelihood
estimation of AdjPIN model."><title>AdjPIN initial parameter sets of Cheng and Lai (2021) — initials_adjpin_cl • PINstimation</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Open%20Sans-0.4.1/font.css" rel="stylesheet"><link href="../deps/_IBM%20Plex%20Mono-0.4.1/font.css" rel="stylesheet"><link href="../deps/_Roboto%20Slab-0.4.1/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="AdjPIN initial parameter sets of Cheng and Lai (2021) — initials_adjpin_cl"><meta property="og:description" content="Based on an extension of the algorithm in
Cheng and Lai (2021)
, generates sets of initial
parameters to be used in the maximum likelihood
estimation of AdjPIN model."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-0SVLS0LDBY"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0SVLS0LDBY');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">PINstimation</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/PINstimation.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../research.html" aria-label="Research">Research</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/parallel_processing.html">Parallel Processing</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../package-authors.html" aria-label="Authors">Authors</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/monty-se/">
    <span class="fa fa-github"></span>
     
    Github
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>AdjPIN initial parameter sets of Cheng and Lai (2021)</h1>
      <small class="dont-index">Source: <a href="https://github.com/monty-se/PINstimation/blob/HEAD/R/model_adjpin.R" class="external-link"><code>R/model_adjpin.R</code></a></small>
      <div class="d-none name"><code>initials_adjpin_cl.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Based on an extension of the algorithm in
Cheng and Lai (2021)
, generates sets of initial
parameters to be used in the maximum likelihood
estimation of <code>AdjPIN</code> model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">initials_adjpin_cl</span><span class="op">(</span><span class="va">data</span>, restricted <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A dataframe with 2 variables: the first
corresponds to buyer-initiated trades (buys), and the second corresponds
to seller-initiated trades (sells).</p></dd>
<dt>restricted</dt>
<dd><p>A binary list that allows estimating restricted
AdjPIN models by specifying which model parameters are assumed to be equal.
It contains one or multiple of the following four elements
<code>{theta, mu, eps, d}</code>. For instance, If <code>theta</code> is set to <code>TRUE</code>,
then the probability of liquidity shock in no-information days, and in
information days is assumed to be the same (\(\theta\)<code>=</code>\(\theta'\)). If any of
the remaining rate elements <code>{mu, eps, d}</code> is set to <code>TRUE</code>,
(say  <code>mu=TRUE</code>), then the rate is assumed to be the same on the buy side,
and on the sell side (\(\mu\)<sub>b</sub><code>=</code>\(\mu\)<sub>s</sub>). If more than one element is set to
<code>TRUE</code>, then the restrictions are combined. For instance, if the argument
<code>restricted</code> is set to <code>list(theta=TRUE, eps=TRUE, d=TRUE)</code>, then the
restricted AdjPIN model is estimated, where \(\theta\)<code>=</code>\(\theta'\), \(\epsilon\)<sub>b</sub><code>=</code>\(\epsilon\)<sub>s</sub>,
and \(\Delta\)<sub>b</sub><code>=</code>\(\Delta\)<sub>s</sub>. If the value of the argument <code>restricted</code> is the empty list,
then all parameters of the model are assumed to be independent,
and the unrestricted model is estimated. The default value is the empty
list <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p></dd>
<dt>verbose</dt>
<dd><p>a binary variable that determines whether information messages
about the initial parameter sets, including the number of the initial
parameter sets generated. No message is shown when <code>verbose</code> is set
to <code>FALSE</code>. The default value is <code>TRUE</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a dataframe of numerical vectors of ten elements
{\(\alpha\), \(\delta\), \(\theta\), \(\theta'\),
\(\epsilon\)<sub>b</sub>, \(\epsilon\)<sub>s</sub>, \(\mu\)<sub>b</sub>, \(\mu\)<sub>s</sub>, \(\Delta\)<sub>b</sub>, \(\Delta\)<sub>s</sub>}.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The argument 'data' should be a numeric dataframe, and contain
at least two variables. Only the first two variables will be considered:
The first variable is assumed to correspond to the total number of
buyer-initiated trades, while the second variable is assumed to
correspond to the total number of seller-initiated trades. Each row or
observation correspond to a trading day. <code>NA</code> values will be ignored.
<br><br> The function implements an extension of the algorithm of
Cheng and Lai (2021)
. In their paper, the authors
assume that the probability of liquidity shock is the same in no-information,
and information days, i.e., \(\theta\)<code>=</code>\(\theta'\), and use a procedure similar to
that of Yan and Zhang (2012)
 to generate 64 initial
parameter sets. The function implements an extension of their algorithm,
by relaxing the assumption of equality of liquidity shock probabilities,
and generates thereby <code>256</code> initial parameter sets for the unrestricted
<code>AdjPIN</code> model.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Cheng T, Lai H (2021).
“Improvements in estimating the probability of informed trading models.”
<em>Quantitative Finance</em>, <b>21</b>(5), 771-796.<br><br> Yan Y, Zhang S (2012).
“An improved estimation method and empirical properties of the probability of informed trading.”
<em>Journal of Banking and Finance</em>, <b>36</b>(2), 454--467.
ISSN 03784266.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># There is a preloaded quarterly dataset called 'dailytrades' with 60</span></span>
<span class="r-in"><span class="co"># observations. Each observation corresponds to a day and contains the</span></span>
<span class="r-in"><span class="co"># total number of buyer-initiated trades ('B') and seller-initiated</span></span>
<span class="r-in"><span class="co"># trades ('S') on that day. To know more, type ?dailytrades</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">xdata</span> <span class="op">&lt;-</span> <span class="va">dailytrades</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The function adjpin(xdata, initialsets="CL") allows the user to directly</span></span>
<span class="r-in"><span class="co"># estimate the AdjPIN model using the full set of initial parameter sets</span></span>
<span class="r-in"><span class="co"># generated using the algorithm Cheng and Lai (2021)</span></span>
<span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"><span class="va">estimate.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="adjpin.html">adjpin</a></span><span class="op">(</span><span class="va">xdata</span>,  initialsets<span class="op">=</span><span class="st">"CL"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># }</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Obtaining the set of initial parameter sets using initials_adjpin_cl</span></span>
<span class="r-in"><span class="co"># allows us to estimate the PIN model using a subset of these initial sets.</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Use initials_adjpin_cl() to generate 256 initial parameter sets using the</span></span>
<span class="r-in"><span class="co"># algorithm of Cheng and Lai (2021).</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">initials_cl</span> <span class="op">&lt;-</span> <span class="fu">initials_adjpin_cl</span><span class="op">(</span><span class="va">xdata</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Use 20 randonly chosen initial sets from the dataframe 'initials_cl' in</span></span>
<span class="r-in"><span class="co"># order to estimate the AdjPIN model using the function adjpin() with custom</span></span>
<span class="r-in"><span class="co"># initial parameter sets</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">numberofsets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">initials_cl</span><span class="op">)</span></span>
<span class="r-in"><span class="va">selectedsets</span> <span class="op">&lt;-</span> <span class="va">initials_cl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">numberofsets</span>, <span class="fl">20</span><span class="op">)</span>,<span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">estimate.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="adjpin.html">adjpin</a></span><span class="op">(</span><span class="va">xdata</span>, initialsets <span class="op">=</span> <span class="va">selectedsets</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Compare the parameters and the pin values of both specifications</span></span>
<span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">estimate.1</span><span class="op">@</span><span class="va">parameters</span>, adjpin <span class="op">=</span> <span class="va">estimate.1</span><span class="op">@</span><span class="va">adjpin</span>, psos <span class="op">=</span> <span class="va">estimate.1</span><span class="op">@</span><span class="va">psos</span><span class="op">)</span>,</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">estimate.2</span><span class="op">@</span><span class="va">parameters</span>, <span class="va">estimate.2</span><span class="op">@</span><span class="va">adjpin</span>, <span class="va">estimate.2</span><span class="op">@</span><span class="va">psos</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"50"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">show</span><span class="op">(</span><span class="va">comparison</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         alpha     delta  theta    thetap    eps.b    eps.s     mu.b     mu.s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> all 0.7333333 0.1363636 0.0625 0.6363636 337.1669 335.9816 599.1243 871.1851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50  0.5833333 0.1714286 0.4000 0.8000000 337.1890 335.8640 913.1672 871.3027</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          d.b       d.s    adjpin      psos</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> all 912.7500 0.3832056 0.2950956 0.2791467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50  598.7912 0.4583452 0.3342633 0.2400426</span>
<span class="r-in"><span class="co"># }</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="package-authors.html">Montasser Ghachem</a>, <a href="package-authors.html">Oguz Ersan</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

